## 访问者模式

**定义**：封装一些作用于某种数据结构中的各元素的操作，它可以在**不改变数据结构的前提下定义作用于这些元素的新的操作。**

#### 双分派

充分利用**双分派技术**，**实现处理与数据结构分离**。例如应对男女对不同情景反应不同，人只分男女两类是固定不变的，然后为每种行为提供男女两种实现，然后男的永远调男的的实现，女的调女的的实现，调用时还把自己传进去，即双分派

例子：打印员工的工作和工资报表给不同角色看。

优点：

* 符合单一指责原则
* 优秀的扩展性
* 灵活性高

缺点：

* 具体元素对访问者公布细节，违反迪米特法则
* 具体元素变更增减比较困难
* 违背了依赖倒置原则

**使用场景：**

* 一个对象结构包含很多类对象，它们有不同的接口，而你想对这些对象实施一些依赖于其具体类的操作，也就说是用迭代器模式已经不能胜任的情景。
* 需要对一个对象结构中的对象进行很多不同并且不相关的操作，而你想避免让这些操作“污染”这些对象的类。



